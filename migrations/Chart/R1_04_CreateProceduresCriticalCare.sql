-- Rollback script for ChartsSourceOfTruth additions for the Procedures CriticalCare section options
DO $$
DECLARE
    chart_code TEXT;
    elem RECORD;
BEGIN
    FOR chart_code IN
        SELECT * FROM (VALUES
            ('T001x'), ('T002x'), ('T003x'), ('T006x'), ('T007x'),
            ('T008x'), ('T009x'), ('T010x'), ('T011x'), ('T012x'),
            ('T013x'), ('T015x'), ('T024x'), ('T025x'), ('T028x'),
            ('T029x'), ('T030x'), ('T031x'), ('T032x'), ('T033x'),
            ('T035x'), ('T036x'), ('T039x'), ('T040x'), ('T042x'),
            ('T051x'), ('T057x'), ('T058x'), ('T070a')
        ) AS t(chart_code)
    LOOP
        FOR elem IN
            SELECT * FROM (
                VALUES
                    ('Q002'), ('criticalCareSwitch'),
                    ('Q002A001'), ('Q002A002'),
                    ('Q002A003'), ('Q002A004'), ('Q002A005'),
                    ('Q002A006'), ('Q002A007'), ('Q002A008'),
                    ('Q002A009'), ('Q002A010'), ('Q002A011'),
                    ('Q002A012'), ('Q002A013'), ('Q002A014'),
                    ('Q002A015'), ('Q002A016'), ('Q002A017'),
                    ('Q002A018'), ('Q002A019'), ('Q002A020'),
                    ('Q002A021'), ('Q002A022'), ('Q002A023'),
                    ('Q002A024'), ('Q002A025'), ('Q002A026'),
                    ('Q002A028'), ('Q002A029'), ('Q002A030'),
                    ('Q002A031'), ('Q002A032'), ('Q002A033'),
                    ('Q002A034'), ('Q002A035'), ('Q002A036'),
                    ('Q002A037'), ('Q002A038'), ('Q002A039'),
                    ('Q002A040'), ('Q002A041'), ('Q002A042'),
                    ('Q002A043'), ('Q002A044'), ('Q002A045'),
                    ('Q002A046'), ('Q002A047'), ('Q002A048'),
                    ('Q002A049'), ('Q002A050'),
                    ('Q002A051'), ('Q002A052'), ('Q002A053'),
                    ('Q002A054'), ('Q002A055'), ('Q002A056'),
                    ('Q002A057'), ('Q002A058'), ('Q002A059'),
                    ('Q002A060'), ('Q002A061'), ('Q002A062'),
                    ('Q002A063'), ('Q002A064'), ('Q002A065'),
                    ('Q002A066'), ('Q002A067'), ('Q002A068'),
                    ('Q002A069'), ('Q002A070'), ('Q002A071'),
                    ('Q002A072'), ('Q002A073'), ('Q002A074'),
                    ('Q002A075'), ('Q002A076'), ('Q002A077'),
                    ('Q002A078'), ('Q002A079'), ('Q002A080'),
                    ('Q002A081'), ('Q002A082'), ('Q002A083'),
                    ('Q002A084'), ('Q002A085'), ('Q002A086'),
                    ('Q002A087'), ('Q002A088'), ('Q002A089'),
                    ('Q002A090'), ('Q002A091'), ('Q002A092'),
                    ('Q002A093'), ('Q002A094'), ('Q002A095'),
                    ('Q002A096'), ('Q002A097'), ('Q002A098'),
                    ('Q002A099'), ('Q002A100'), ('Q002A101'),
                    ('Q002A102'), ('Q002A103'), ('Q002A104'),
                    ('Q002A105'), ('Q002A106'), ('Q002A107'),
                    ('Q002A108'), ('Q002A109'), ('Q002A110'),
                    ('Q002A111'), ('Q002A112'), ('Q002A113'),
                    ('Q002A114'), ('Q002A115'), ('Q002A116'),
                    ('Q002A117'), ('Q002A118'), ('Q002A119'),
                    ('Q002A120'), ('Q002A121'), ('Q002A122'),
                    ('Q002A123'), ('Q002A124'), ('Q002A125'),
                    ('Q002A126'), ('Q002A127'), ('Q002A128'),
                    ('Q002A129'), ('Q002A130'), ('Q002A131'),
                    ('Q002A132'), ('Q002A133'), ('Q002A134'),
                    ('Q002A135'), ('Q002A136'), ('Q002A137'),
                    ('Q002A138'), ('Q002A139'), ('Q002A140'),
                    ('Q002A141'), ('Q002A142'), ('Q002A143'),
                    ('Q002A144'), ('Q002A145'), ('Q002A146'),
                    ('Q002A147'),(' Q002A148'),(' Q002A149'),
                    ('Q002A150'),('Q002A151'), ('Q002A152'), 
                    ('Q002A153'),('Q002A154'), ('Q002A155'), 
                    ('Q002A156'),('Q002A157'), ('Q002A158'),
                    ('Q002A159'),('Q002A160'), ('Q002A161'),
                    ('Q002A162'),('Q002A163'), ('Q002A164'),
                    ('Q002A165'),('Q002A166'), ('Q002A167'),
                    ('Q002A168'),('Q002A169'), ('Q002A170'), 
                    ('Q002A171'),('Q002A172'), ('Q002A173'),
                    ('Q002A174'),('Q002A175'), ('Q002A176'),
                    ('Q002A177'),('Q002A178'),(' Q002A179'),
                    (' Q002A180'),('Q002A181'),(' Q002A182'),
                    ('Q002A183')
            ) AS e(answer_code)
        LOOP
            DELETE FROM public."ChartsSourceOfTruth"
            WHERE "ChartCode" = chart_code AND "AnswerCode" = elem.answer_code;
        END LOOP;
    END LOOP;
END $$;
